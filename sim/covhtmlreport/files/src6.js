var g_data = {"name":"../rtl/counter_ctrl.v","src":"module counter_ctrl(\n	input sys_clk,\n	input sys_rst_n,\n	input div_en,\n	input [3:0] div_val,\n	input timer_en,\n	input halt_req,\n	input dbg_mode,\n\n	output cnt_en,\n	output halt_ack\n);\n\n	wire [7:0] limit, int_cnt_pre;\n	reg  [7:0] int_cnt;\n	wire cnt_rst, halt;\n	wire cnt, cnt_1, cnt_2, cnt_3;\n	assign limit = (1 << div_val) - 1;\n	assign cnt_rst = ~div_en | ~timer_en | (limit == int_cnt);\n	assign cnt = timer_en & div_en & (div_val != 0);\n	assign halt = halt_req & dbg_mode;\n\n		 \n/*	always @(posedge sys_clk or negedge sys_rst_n) begin\n		if(!sys_rst_n) begin\n			int_cnt <= 8'h0;\n		end else begin \n			if(halt) begin\n				int_cnt <= int_cnt;\n			end else begin\n				if(cnt_rst) begin\n					int_cnt <= 8'h0;\n				end else begin\n					if(cnt) begin\n						int_cnt <= int_cnt + 1;\n					end	\n				end\n			end\n		end\n	end  */\n	assign int_cnt_pre = (halt) ? int_cnt : ((cnt_rst) ? 8'h0 : ((cnt) ? int_cnt + 1 : int_cnt)); \n\n	always @(posedge sys_clk or negedge sys_rst_n) begin\n		if(!sys_rst_n) \n			int_cnt <= 8'h0;\n		else \n			int_cnt <= int_cnt_pre;\n	end\n\n	assign cnt_1 = (int_cnt == limit) && div_en && timer_en && div_val != 0;\n	assign cnt_2 = ~div_en && timer_en;\n	assign cnt_3 = (div_val == 0) && div_en && timer_en;\n/*	assign cnt_en = (~halt) & (((div_val == 0) & div_en & timer_en)\n       				| (int_cnt == limit & timer_en & div_en ) // & div_val != 0) \n				| (~div_en & timer_en));\n*/\n\n	assign cnt_en = (~halt) & (cnt_1 | cnt_2 | cnt_3);\n	assign halt_ack = halt;\nendmodule\n\n","lang":"verilog"};
processSrcData(g_data);